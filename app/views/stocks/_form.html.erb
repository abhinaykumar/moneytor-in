<%= form_with(model: stock) do |form| %>
<% if stock.errors.any? %>
<div id="error_explanation">
    <h2><%= pluralize(stock.errors.count, "error") %> prohibited this stock from being saved:</h2>

    <ul>
        <% stock.errors.full_messages.each do |message| %>
        <li><%= message %></li>
        <% end %>
    </ul>
</div>
<% end %>

<div class="form-group">
    <%= form.label :name %>
    <%= form.text_field :name, class: 'form-control', placeholder: "Search for name of the company/stock" %>
</div>

<div class="form-group">
    <%= form.label :investment_date %>
    <%= form.text_field :investment_date, class: 'form-control', data: { controller: "flatpickr", flatpickr_date_format: "Y-m-d", flatpickr_max_date: Time.zone.now } %>
</div>

<div class="form-group">
    <%= form.label :brokerage %>
    <%= form.text_field :brokerage, class: 'form-control' %>
</div>

<div class="form-group">
    <%= form.label :price %>
    <%= form.text_field :price, class: 'form-control' %>
</div>

<div class="form-group">
    <% if stock.persisted? %>
    <div class="float-right">
        <%= link_to 'Destroy', stock, method: :delete, class: "text-danger", data: { confirm: 'Are you sure?' } %>
    </div>
    <% end %>

    <%= form.submit "Add Stock", class: 'btn btn-primary' %>

    <% if stock.persisted? %>
    <%= link_to "Cancel", stock, class: "btn btn-link" %>
    <% else %>
    <%= link_to "Cancel", stocks_path, class: "btn btn-link" %>
    <% end %>
</div>
<% end %>